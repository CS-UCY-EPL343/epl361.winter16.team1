<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>jQuery UI Dialog - Modal form</title>

  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

  <link rel="stylesheet" href="/resources/demos/style.css">

  <style>

    label, input { display:block; }

    input.text { margin-bottom:12px; width:95%; padding: .4em; }

    fieldset { padding:0; border:0; margin-top:25px; }

    h1 { font-size: 1.2em; margin: .6em 0; }

    div#users-contain { width: 350px; margin: 20px 0; }

    div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }

    div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }

    .ui-dialog .ui-state-error { padding: .3em; }

    .validateTips { border: 1px solid transparent; padding: 0.3em; }

  </style>

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>

  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

  <script>

  $( function() {

    var dialog, form,

 

      // From http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#e-mail-state-%28type=school%29

      

      name = $( "#name" ),
 surname = $( "#surname" ),
      school = $( "#school" ),
classroom = $( "#classroom"),
birthdate = $("#birthdate"),
     

      allFields = $( [] ).add( name ).add( surname ).add( school ).add (classroom).add( birthdate ),

      tips = $( ".validateTips" );

 

    function updateTips( t ) {

      tips

        .text( t )

        .addClass( "ui-state-highlight" );

      setTimeout(function() {

        tips.removeClass( "ui-state-highlight", 1500 );

      }, 500 );

    }

 

    function checkLength( o, n, min, max ) {

      if ( o.val().length > max || o.val().length < min ) {

        o.addClass( "ui-state-error" );

        updateTips( "Το μήκος " + n + " πρέπει να είναι μεταξύ " +

          min + " και " + max + "." );

        return false;

      } else {

        return true;

      }

    }

 

    function checkRegexp( o, regexp, n ) {

      if ( !( regexp.test( o.val() ) ) ) {

        o.addClass( "ui-state-error" );

        updateTips( n );

        return false;

      } else {

        return true;

      }

    }

 

    function addUser() {

      var valid = true;

      allFields.removeClass( "ui-state-error" );

 

      valid = valid && checkLength( name, "Ονομα", 3, 16 );

      valid = valid && checkLength( surname, "Επώνυμο", 5, 25 );

      

 

      valid = valid && checkRegexp( name, /^([α-ωΑ-Ωa-zA-ZάέίόύώΆΈΌΊΎΏ\s])+$/, "Χρησιμοποίησε μόνο χαρακτήρες του Ελληνικού και Αγγλικού αλφαβήτου!" );

      

      valid = valid && checkRegexp( surname, /^([α-ωΑ-Ωa-zA-ZάέίόύώΆΈΌΊΎΏ\s])+$/, "Χρησιμοποίησε μόνο χαρακτήρες του Ελληνικού και Αγγλικού αλφαβήτου!" );

 

      if ( valid ) {

        $( "#users tbody" ).append( "<tr>" +

          "<td>" + name.val() + "</td>" +
          
          "<td>" + surname.val() + "</td>" +

          "<td>" + school.val() + "</td>" +

          "<td>" + classroom.val() + "</td>" +
          
          "<td>" + birthdate.val() + "</td>" +

        "</tr>" );
        
        var newuser = name.val().charAt(0)+surname.val().charAt(0)+surname.val().charAt(1)+surname.val().charAt(2)+surname.val().charAt(3)+surname.val().charAt(4);
        
        //this count is returned from database
       var database_same_usernames_count = 0;
       
       
       
		if(database_same_usernames_count<10){
		newuser+=database_same_usernames_count;}
		newuser+= ++database_same_usernames_count;
		alert(newuser);
		
		
		alert(birthdate.val());
        dialog.dialog( "close" );

      }

      return valid;

    }

 

    dialog = $( "#dialog-form" ).dialog({

      autoOpen: false,

      height: 600,

      width: 450,

      modal: true,

      buttons: {

        "Create an account": addUser,

        Cancel: function() {

          dialog.dialog( "close" );

        }

      },

      close: function() {

        form[ 0 ].reset();

        allFields.removeClass( "ui-state-error" );

      }

    });

 

    form = dialog.find( "form" ).on( "submit", function( event ) {

      event.preventDefault();

      addUser();

    });

 

    $( "#create-user" ).button().on( "click", function() {

      dialog.dialog( "open" );

    });

  } );

  </script>

</head>

<body>

 

<div id="dialog-form" title="Δημιουργία νέου Λογαριασμού">

  <p class="validateTips">'Ολα τα πεδία είναι υποχρεωτικά.</p>

 

  <form>

    <fieldset>

      <label for="name">Όνομα</label>

      <input type="text" name="name" id="name" value="π.χ. Κυριάκος" class="text ui-widget-content ui-corner-all">

      <label for="surname">Επώνυμο</label>

      <input type="text" name="surname" id="surname" value="π.χ. Κυριάκου" class="text ui-widget-content ui-corner-all">

      <label for="school">Σχολείο</label>

	<select id="school">
  <option value="Δημοτικό Σχολείο Μενοίκου">Δημοτικό Σχολείο Μενοίκου  </option> 
  <option value="Ε' Δημοτικό Σχολείο Αγιας Βαρβάρας">Ε' Δημοτικό Σχολείο Αγιας Βαρβάρας</option>
  <option value="Β' Δημοτικό Σχολείο Κοκκινοτριμιθιά">Β' δημοτικό Σχολείο Κοκκινοτριμιθία</option>
  <option value="Γ' Δημοτικό Σχολείο Έμπας">Γ' Δημοτικό Σχολείο Έμπας</option>
</select>



      <!-- <input type="range" name="school" id="school" value="π.χ. Δημοτικό Σχολείο Μενοίκου" class="text ui-widget-content ui-corner-all"> -->

      <label for="classroom">Τάξη</label>
<select id="classroom">
	 <option value="01">A'</option>
  <option value="02">B'</option>
  <option value="03">Γ'</option>
  <option value="04">Δ'</option>
  <option value="05">Ε'</option>
  <option value="06">Στ' </option>
</select>
      <!--<input type="text" name="classroom" id="classroom" value="π.χ. Β" class="text ui-widget-content ui-corner-all">-->

      <label for="birthdate1">Ημερομηνία Γεννήσεως</label>
      	<select>
  <option value="01">01</option>
  <option value="02">02</option>
  <option value="03">03</option>
  <option value="04">04</option>
  <option value="05">05</option>
  <option value="06">06</option>
  <option value="07">07</option>
  <option value="08">08</option>
  <option value="09">09</option>
  <option value="10">10</option>
  <option value="11">11</option>
  <option value="12">12</option>
  <option value="13">13</option>
  <option value="14">14</option>
  <option value="15">15</option>
  <option value="16">16</option>
  <option value="17">17</option>
  <option value="18">18</option>
  <option value="19">19</option>
  <option value="20">20</option>
  <option value="21">21</option>
  <option value="22">22</option>
  <option value="23">23</option>
  <option value="24">24</option>
  <option value="25">25</option>
  <option value="26">26</option>
  <option value="27">27</option>
  <option value="28">28</option>
  <option value="29">29</option>
  <option value="30">30</option>
   <option value="31">31</option>
</select>	<select id ="birthdate2">
  <option value="01">Ιανουαρίου</option>
  <option value="02">Φεβρουαρίου</option>
  <option value="03">Μαρτίου</option>
  <option value="04">Απριλίου</option>
  <option value="05">Μαϊου</option>
  <option value="06">Ιουνίου</option>
  <option value="07">Ιουλίου</option>
  <option value="08">Αυγούστου</option>
  <option value="09">Σπτεμβρίου</option>
  <option value="10">Οκτωβρίου</option>
  <option value="11">Νοεμβρίου</option>
  <option value="12">Δεκεμβρίου</option>
</select> <select id="birthdate3">
	  <option value="10">2010</option>
  <option value="11">2011</option>
  <option value="12">2012</option>
  <option value="13">2013</option>
  <option value="14">2014</option>
  <option value="15">2015</option>
  <option value="16">2016</option>
  <option value="17">2017</option>
  <option value="18">2018</option>
  <option value="19">2019</option>
  <option value="20">2020</option>
  <option value="21">2021</option>
  <option value="22">2022</option>
  <option value="23">2023</option>
  <option value="24">2024</option>
  <option value="25">2025</option>
  <option value="26">2026</option>
  <option value="27">2027</option>
  <option value="28">2028</option>
  <option value="29">2029</option>
  <option value="30">2030</option>
</select>
<!--
      <input type="date" name="birthdate" id="birthdate" value="10/05/2001" class="text ui-widget-content ui-corner-all">-->

      <!-- Allow form submission with keyboard without duplicating the dialog button -->

      <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">

    </fieldset>

  </form>

</div>

 

<!--

<div id="users-contain" class="ui-widget">

  <h1>Existing Users:</h1>

  <table id="users" class="ui-widget ui-widget-content">

    <thead>

      <tr class="ui-widget-header ">

        <th>Name</th>

        <th>p</th>

        <th>surname</th>

      </tr>

    </thead>

    <tbody>

      <tr>

        <td>John Doe</td>

        <td>john.doe@example.com</td>

        <td>johndoe1</td>

      </tr>

    </tbody>

  </table>
-->
</div>

<button id="create-user">Δημιουργία νέο χρήστη</button>

 

 

</body>

</html>

